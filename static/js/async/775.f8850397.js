"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["775"],{3468:function(e,s,r){r.r(s),r.d(s,{default:function(){return o}});var n=r(651),t=r(6971),i=r(4447);function a(e){let s=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",span:"span"},(0,t.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"nextjs-adapter",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#nextjs-adapter",children:"#"}),"Next.js Adapter"]}),"\n",(0,n.jsx)(s.p,{children:"How to set up API routes for Filenest in a Next.js app."}),"\n",(0,n.jsxs)(s.h2,{id:"setup",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#setup",children:"#"}),"Setup"]}),"\n",(0,n.jsxs)(s.h3,{id:"1-install-dependencies",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#1-install-dependencies",children:"#"}),"1. Install dependencies"]}),"\n",(0,n.jsx)(i.PackageManagerTabs,{command:"install @filenest/core @filenest/adapter-nextjs"}),"\n",(0,n.jsxs)(s.h3,{id:"2-create-a-route-handler",children:[(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#2-create-a-route-handler",children:"#"}),"2. Create a route handler"]}),"\n",(0,n.jsx)(s.p,{children:"The Next.js adapter only works with route handlers inside the app directory."}),"\n",(0,n.jsx)(s.p,{children:"Create the following file structure:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{meta:"",children:"app\n\u2514\u2500\u2500 api\n    \u2514\u2500\u2500 media\n        \u2514\u2500\u2500 [action]\n            \u2514\u2500\u2500 route.ts\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Your folder structure may differ depending on your project setup.\nJust make sure there is a main folder for Filenest routes (e.g. ",(0,n.jsx)(s.code,{children:"media"}),") and a catch-all route (e.g. ",(0,n.jsx)(s.code,{children:"[action]"}),")."]}),"\n",(0,n.jsxs)(s.p,{children:["Then just initialize the adapter inside the ",(0,n.jsx)(s.code,{children:"route.ts"})," file and pass it a provider."]}),"\n",(0,n.jsx)(s.pre,{className:"code",children:(0,n.jsx)(s.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,n.jsxs)(s.code,{className:"language-ts",meta:'title="app/api/media/[action]/route.ts"',children:[(0,n.jsxs)(s.span,{className:"line line-number",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { initNextjsAdapter } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@filenest/adapter-nextjs"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line line-number",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { Cloudinary } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"@filenest/provider-cloudinary"'})]}),"\n",(0,n.jsx)(s.span,{className:"line line-number"}),"\n",(0,n.jsxs)(s.span,{className:"line line-number",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"provider"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Cloudinary"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"})"})]}),"\n",(0,n.jsx)(s.span,{className:"line line-number"}),"\n",(0,n.jsxs)(s.span,{className:"line line-number",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"POST"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"initNextjsAdapter"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({ provider })"})]}),"\n"]})})}),"\n",(0,n.jsxs)(s.p,{children:["Now you're all set to build your UI. Check out the ",(0,n.jsx)(s.a,{href:"/filenest/docs/frontend/minimal-setup.html",children:"minimal setup"})," to get started."]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.ah)(),e.components);return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(a,e)})):a(e)}let o=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["docs%2Fbackend%2Fadapters%2Fnextjs-route-handlers.mdx"]={toc:[{id:"setup",text:"Setup",depth:2},{id:"1-install-dependencies",text:"1. Install dependencies",depth:3},{id:"2-create-a-route-handler",text:"2. Create a route handler",depth:3}],title:"Next.js",frontmatter:{title:"Next.js"}}}}]);